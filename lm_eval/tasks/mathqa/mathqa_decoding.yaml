tag:
  - math_word_problems
task: mathqa_decoding
dataset_path: math_qa
output_type: generate_until
training_split: train
validation_split: validation
test_split: test
doc_to_text: "Question: {{Problem}}\nOptions: {{options}}\nAnswer:"
doc_to_target: "Options: {{options}}\n Correct: {{correct}}"
should_decontaminate: true
doc_to_decontamination_query: "Question: {{Problem}}\nOptions: {{options}}\nAnswer:"
metric_list:
- aggregation: mean
  higher_is_better: true
  ignore_case: true
  ignore_punctuation: false
  metric: exact_match
  regexes_to_ignore:
  - ','
  - \$
  - '(?s).*#### '
  - \.$
filter_list:
- filter:
  - function: regex
    regex_pattern: The answer is (\-?[0-9\.\,]+).
  - function: take_first
  name: strict-match
- filter:
  - function: regex
    group_select: -1
    regex_pattern: (-?[$0-9.,]{2,})|(-?[0-9]+)
  - function: take_first
  name: flexible-extract
metadata:
  version: 1.0
generation_kwargs:
  do_sample: true
  temperature: 0.6
  max_gen_toks: 2048
  until:
  - 'Q:'
  - </s>
  - <|im_end|>
dataset_kwargs:
  trust_remote_code: true